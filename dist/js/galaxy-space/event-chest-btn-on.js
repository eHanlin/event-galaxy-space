"use strict";define(["jquery"],function($){return function(chest,targets){require(["eventChestStart"],function(eventChestStart){targets.startBtn.off("click"),targets.startBtn.on("click",eventChestStart.bind(eventChestStart,chest,targets))}),require(["eventChestOpenNow"],function(eventChestOpenNow){targets.openNowBtn.off("click"),targets.openNowBtn.on("click",eventChestOpenNow.ask.bind(eventChestOpenNow.ask,chest,targets))}),require(["eventChestUpgrade"],function(eventChestUpgrade){targets.upgradeBtn.off("click"),targets.upgradeBtn.on("click",eventChestUpgrade.ask.bind(eventChestUpgrade.ask,chest,targets))}),require(["eventChestOpen"],function(eventChestOpen){targets.readyBtn.off("click"),targets.readyBtn.on("click",function(event){var currentTarget=event.currentTarget;event.preventDefault(),(!$(currentTarget).attr("data-lockedAt")||(new Date).getTime()-$(currentTarget).attr("data-lockedAt")>1e3)&&eventChestOpen(chest,targets),$(currentTarget).attr("data-lockedAt",(new Date).getTime())})})}});