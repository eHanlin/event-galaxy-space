"use strict";define(["require","jquery","ajax","confirmPopup","eventChestInspection","eventTotalAssets"],function(n,s,e,t,c,a){t.ok("",'\n    <span style="font-size:22px; top:150px;">\n    經過一年的努力，我們終於在銀河中找到一片適合安定下來的土地，在這片土地上，<br>有一些厲害的魔法師居住著，透過他們的魔法將封存\n    的寶箱都打開啦!趕快來看看你獲得了哪些寶藏吧!\n    </span><br><br><br>\n    ',function(){e("GET","/chest/autoOpened").then(function(n){var s=n.content.length;!function n(s,a,o){if(a>o-1){for(var i=[],l=0;l<s.length;l++)i.push(s[l].chestId),console.log(i);t.ok("",'\n      <span style="font-size:24px;">哇!獲得了好多寶藏呢~記得在7/20之前完成資料回填，贈品將會在8/6開始陸續寄出。<br>\n      下學期我們將會在魔法世界展開冒險，記得回來唷!</span>\n      <br>\n      <br>\n      <br>\n      ',function(){e("POST","/chest/award/notePopupAutoOpened",i).then(function(n){console.log(n)})})}else{var g,p=s[a].chestId,r=s[a].level,d=s[a].coins,m=s[a].gems,v=s[a].gainAwardId,x=s[a].gainAward,f=s[a].luckyBag,u="",h="",b="",k="";v?(u='<span class="gif-title">'+x+"</span>",b='\n            <img class="coins-img" src="https://d220xxmclrx033.cloudfront.net/event-space/img/coin.svg">\n            <span>'+d+'</span>\n            <img class="gems-img" src="https://d220xxmclrx033.cloudfront.net/event-space/img/gem.svg">\n            <span>'+m+"</span>\n          ",k='<img class="your-award-gif" src="https://d220xxmclrx033.cloudfront.net/event-space/img/award/'+v+'.png">'):k='\n            <img class="coins-img-lg" src="https://d220xxmclrx033.cloudfront.net/event-space/img/coin.svg">\n            <span class="coins-lg">'+d+'</span>\n            <br/>\n            <img class="gems-img-lg" src="https://d220xxmclrx033.cloudfront.net/event-space/img/gem.svg">\n            <span class="gems-lg">'+m+"</span>\n          ",g='\n          <div class="open-confirm-grid-container">\n            <div class="open-text-block1">\n              <img class="open-gif-chest" src="https://d220xxmclrx033.cloudfront.net/event-space/img/chest/open/openChest'+r+'.gif">\n            </div>\n            <div class="open-text-block2">恭喜你獲得了\n              <span class="gif-title">'+u+'</span>\n            </div>\n            <div class="open-text-block3">\n              '+b+'\n            </div>\n            <div class="open-text-block4">\n              '+k+"\n            </div>\n          </div>\n        ",v&&!1===f?t.dialog(g,{confirmFn:n.bind(n,s,a+1,o),confirmBtnText:"確認",isShowCancelButton:!1}):(!0===f&&(h="打開福袋"),t.ok("",g,function(){!0===f?e("POST","/chest/award/luckyBag/"+p,{awardId:v,chestId:p,level:r}).then(function(e){var i,l=e.content;if(!c(e.message,e.content)){i='\n                      <div class="lucky-bag">\n                        <span>福袋打開囉，得到 </span>\n                        <img class="coins-img" src="https://d220xxmclrx033.cloudfront.net/event-space/img/coin.svg">\n                        <span>'+l.coins+'</span>\n                        <img class="gems-img" src="https://d220xxmclrx033.cloudfront.net/event-space/img/gem.svg">\n                        <span>'+l.gems+"</span>\n                      </div>\n                    ";var g='<img class="confirm-popup-lucky-bag" src="https://d220xxmclrx033.cloudfront.net/event-space/img/award/'+v+'.png">';t.luckyBagImage(i,g,function(){n(s,a+1,o)})}}):n(s,a+1,o)},h))}}(n.content,0,s)})},"確認")});